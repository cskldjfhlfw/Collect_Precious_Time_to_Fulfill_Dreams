# ç§‘ç ”æˆæœç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿå‚è€ƒæ‰‹å†Œ

## ğŸš€ ä¸€é”®å¯åŠ¨å‘½ä»¤

### å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨

```bash
# 1. å¯åŠ¨æ‰€æœ‰æ•°æ®åº“æœåŠ¡
# Windows
net start postgresql-x64-13
net start MongoDB
redis-server
neo4j start

# Linux/Mac
sudo systemctl start postgresql mongod redis neo4j

# 2. åç«¯å¯åŠ¨
cd back
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows
python init_database.py  # éªŒè¯æ•°æ®åº“è¿æ¥
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# 3. å‰ç«¯å¯åŠ¨ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd front
npm run dev
```

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### æ•°æ®åº“æ“ä½œ

```bash
# æ•°æ®åº“åˆå§‹åŒ–
python init_database.py                # éªŒè¯è¿æ¥ + åˆ›å»ºè¡¨
python init_database.py --drop         # åˆ é™¤æ‰€æœ‰è¡¨
python init_database.py --reset        # é‡ç½®æ•°æ®åº“
python init_database.py --seed         # æ’å…¥ç¤ºä¾‹æ•°æ®

# Alembic è¿ç§»
alembic revision --autogenerate -m "æè¿°"  # ç”Ÿæˆè¿ç§»
alembic upgrade head                       # æ‰§è¡Œè¿ç§»
alembic downgrade -1                       # å›æ»šä¸€ä¸ªç‰ˆæœ¬
alembic history                            # æŸ¥çœ‹å†å²
alembic current                            # å½“å‰ç‰ˆæœ¬
```

### æœåŠ¡ç®¡ç†

```bash
# åç«¯æœåŠ¡
uvicorn app.main:app --reload --port 8000     # å¼€å‘æ¨¡å¼
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000  # ç”Ÿäº§æ¨¡å¼

# å‰ç«¯æœåŠ¡
npm run dev                # å¼€å‘æ¨¡å¼
npm run build             # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview           # é¢„è§ˆæ„å»ºç»“æœ
```

### æ•°æ®åº“è¿æ¥æµ‹è¯•

```bash
# PostgreSQL
psql -U postgres -d research -c "SELECT version();"

# MongoDB
mongo research_platform --eval "db.runCommand('ping')"

# Neo4j
cypher-shell -u neo4j -p 12345678 "RETURN 'Neo4j is running' as status;"

# Redis
redis-cli ping
```

## ğŸ”§ ç¯å¢ƒé…ç½®æ¨¡æ¿

### `.env` é…ç½®æ–‡ä»¶

```env
# Application
APP_APP_NAME="Research Achievement Management API"
APP_ENVIRONMENT="development"
APP_API_PREFIX="/api"
APP_CORS_ORIGINS='["http://localhost:5173"]'

# PostgreSQL
APP_POSTGRES_ENABLED=true
APP_POSTGRES_DSN="postgresql+asyncpg://postgres:123456@localhost:5432/research"
APP_POSTGRES_ECHO=false

# Neo4j
APP_NEO4J_ENABLED=true
APP_NEO4J_URI="bolt://localhost:7687"
APP_NEO4J_USER="neo4j"
APP_NEO4J_PASSWORD="12345678"

# MongoDB
APP_MONGO_ENABLED=true
APP_MONGO_DSN="mongodb://localhost:27017"
APP_MONGO_DATABASE="research_platform"

# Redis
APP_REDIS_ENABLED=true
APP_REDIS_DSN="redis://localhost:6379/0"
APP_REDIS_SSL=false
```

## ğŸ› æ•…éšœæ’é™¤é€ŸæŸ¥

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|------|----------|
| `ModuleNotFoundError: No module named 'xxx'` | ä¾èµ–æœªå®‰è£… | `pip install -r requirements.txt` |
| `Connection refused` | æ•°æ®åº“æœåŠ¡æœªå¯åŠ¨ | å¯åŠ¨å¯¹åº”æ•°æ®åº“æœåŠ¡ |
| `Authentication failed` | ç”¨æˆ·åå¯†ç é”™è¯¯ | æ£€æŸ¥ `.env` ä¸­çš„è®¤è¯ä¿¡æ¯ |
| `Address already in use` | ç«¯å£è¢«å ç”¨ | `lsof -i :ç«¯å£å·` æŸ¥æ‰¾å¹¶æ€æ­»è¿›ç¨‹ |
| `TypeError: unsupported operand type(s) for \|` | Python ç‰ˆæœ¬è¿‡ä½ | ä½¿ç”¨ Python 3.10+ |
| `error parsing value for field "cors_origins"` | CORS é…ç½®æ ¼å¼é”™è¯¯ | ä½¿ç”¨ JSON æ•°ç»„æ ¼å¼ |

### ç«¯å£å ç”¨æ£€æŸ¥

```bash
# æ£€æŸ¥å¸¸ç”¨ç«¯å£
netstat -tlnp | grep :8000   # åç«¯ API
netstat -tlnp | grep :5173   # å‰ç«¯å¼€å‘æœåŠ¡å™¨
netstat -tlnp | grep :5432   # PostgreSQL
netstat -tlnp | grep :27017  # MongoDB
netstat -tlnp | grep :7687   # Neo4j
netstat -tlnp | grep :6379   # Redis

# æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:8000 | xargs kill -9
```

## ğŸ“Š ç³»ç»Ÿç›‘æ§å‘½ä»¤

### æœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# ç³»ç»ŸæœåŠ¡çŠ¶æ€
systemctl status postgresql
systemctl status mongod
systemctl status neo4j
systemctl status redis

# è¿›ç¨‹ç›‘æ§
ps aux | grep python     # Python è¿›ç¨‹
ps aux | grep node       # Node.js è¿›ç¨‹
ps aux | grep postgres   # PostgreSQL è¿›ç¨‹
ps aux | grep mongod     # MongoDB è¿›ç¨‹
```

### èµ„æºä½¿ç”¨ç›‘æ§

```bash
# ç³»ç»Ÿèµ„æº
htop                      # äº¤äº’å¼è¿›ç¨‹ç›‘æ§
free -h                   # å†…å­˜ä½¿ç”¨æƒ…å†µ
df -h                     # ç£ç›˜ä½¿ç”¨æƒ…å†µ
iostat 1                  # I/O ç»Ÿè®¡

# ç½‘ç»œè¿æ¥
netstat -an | grep LISTEN # ç›‘å¬ç«¯å£
ss -tuln                  # ç½‘ç»œè¿æ¥çŠ¶æ€
```

## ğŸ”„ å¤‡ä»½ä¸æ¢å¤

### æ•°æ®åº“å¤‡ä»½

```bash
# PostgreSQL å¤‡ä»½
pg_dump -U postgres -d research > backup_$(date +%Y%m%d).sql

# MongoDB å¤‡ä»½
mongodump --db research_platform --out backup_mongo_$(date +%Y%m%d)/

# Neo4j å¤‡ä»½
neo4j-admin dump --database=neo4j --to=backup_neo4j_$(date +%Y%m%d).dump

# Redis å¤‡ä»½
redis-cli --rdb backup_redis_$(date +%Y%m%d).rdb
```

### æ•°æ®åº“æ¢å¤

```bash
# PostgreSQL æ¢å¤
psql -U postgres -d research < backup_20251113.sql

# MongoDB æ¢å¤
mongorestore --db research_platform backup_mongo_20251113/research_platform/

# Neo4j æ¢å¤
neo4j-admin load --from=backup_neo4j_20251113.dump --database=neo4j --force

# Redis æ¢å¤
redis-cli --rdb backup_redis_20251113.rdb
```

## ğŸš€ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥

- [ ] æ‰€æœ‰æ•°æ®åº“æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] æ•°æ®åº“è¿æ¥æµ‹è¯•é€šè¿‡
- [ ] ä¾èµ–åŒ…å®‰è£…å®Œæˆ
- [ ] ä»£ç æ„å»ºæˆåŠŸ
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡

### éƒ¨ç½²åéªŒè¯

- [ ] API å¥åº·æ£€æŸ¥é€šè¿‡ (`GET /api/health`)
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸è®¿é—®
- [ ] æ•°æ®åº“è¯»å†™åŠŸèƒ½æ­£å¸¸
- [ ] æ—¥å¿—è®°å½•æ­£å¸¸
- [ ] æ€§èƒ½æŒ‡æ ‡æ­£å¸¸

## ğŸ“ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. æ›´æ–°ä»£ç 
git pull origin main

# 2. å®‰è£…æ–°ä¾èµ–ï¼ˆå¦‚æœ‰ï¼‰
cd back && pip install -r requirements.txt
cd ../front && npm install

# 3. æ•°æ®åº“è¿ç§»ï¼ˆå¦‚æœ‰ï¼‰
cd back
alembic upgrade head

# 4. å¯åŠ¨å¼€å‘æœåŠ¡
# ç»ˆç«¯1: åç«¯
uvicorn app.main:app --reload

# ç»ˆç«¯2: å‰ç«¯
cd front && npm run dev

# 5. å¼€å‘å®Œæˆå
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin feature-branch
```

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# Python ä»£ç æ£€æŸ¥
cd back
black app/                 # ä»£ç æ ¼å¼åŒ–
isort app/                 # å¯¼å…¥æ’åº
flake8 app/               # ä»£ç æ£€æŸ¥
mypy app/                 # ç±»å‹æ£€æŸ¥

# JavaScript ä»£ç æ£€æŸ¥
cd front
npm run lint              # ESLint æ£€æŸ¥
npm run type-check        # TypeScript æ£€æŸ¥
npm run format            # Prettier æ ¼å¼åŒ–
```

## ğŸ”— æœ‰ç”¨é“¾æ¥

- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [React æ–‡æ¡£](https://react.dev/)
- [PostgreSQL æ–‡æ¡£](https://www.postgresql.org/docs/)
- [MongoDB æ–‡æ¡£](https://docs.mongodb.com/)
- [Neo4j æ–‡æ¡£](https://neo4j.com/docs/)
- [Redis æ–‡æ¡£](https://redis.io/documentation)
- [Alembic æ–‡æ¡£](https://alembic.sqlalchemy.org/)

---

**å¿«é€Ÿå‚è€ƒç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-11-13
